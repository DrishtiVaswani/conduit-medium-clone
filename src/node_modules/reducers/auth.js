import { SIGN_IN_SUCCESS } from '../pages/Login/actionTypes';
import { SIGN_UP_SUCCESS } from '../pages/Register/actionTypes';
import { INITIALIZE_AUTH_FAILURE, INITIALIZE_AUTH_REQUEST, INITIALIZE_AUTH_SUCCESS } from '../actionTypes';

const initialState = {
    isFetching: false,
    currentUser: null,
    errorMessage: null,
    isAuthenticated: false,
};

export default (state = initialState, { type, payload }) => {

    switch (type) {
        case SIGN_IN_SUCCESS:
        case SIGN_UP_SUCCESS:
            return { ...state, currentUser: payload, isAuthenticated: true };
        case INITIALIZE_AUTH_REQUEST:
            return { ...state, isFetching: true, errorMessage: null };
        case INITIALIZE_AUTH_SUCCESS:
            return { ...state, isFetching: false, currentUser: payload, isAuthenticated: true };
        case INITIALIZE_AUTH_FAILURE:
            return { ...state, isFetching: false };
        default:
            return state;
    }

};