import React from 'react';
import { NavLink, Route, Switch, useRouteMatch } from 'react-router-dom';

import Cover from 'components/Cover';
import UserContainer from './containers/UserContainer';
import ArticlesByAuthorContainer from 'pages/Home/container/ArticlesByAuthorContainer';
import ArticlesFavoritesContainer from 'pages/Home/container/ArticlesFavoritesContainer';

import './Profile.scss';

function Profile() {

    const { path, url } = useRouteMatch(`/@:username`);

    return (
        <main className="main">
            <Cover/>
            <div className="container">
                <div className="profile">
                    <UserContainer/>
                    <ul className="tabs">
                        <li className="tab">
                            <NavLink className="tab-link" to={`${url}`} exact>My Articles</NavLink>
                        </li>
                        <li className="tab">
                            <NavLink className="tab-link" to={`${url}/favorites`}>Favorited Articles</NavLink>
                        </li>
                    </ul>
                    <Switch>
                        <Route path={`${path}`} exact>
                            <ArticlesByAuthorContainer/>
                        </Route>
                        <Route path={`${path}/favorites`}>
                            <ArticlesFavoritesContainer/>
                        </Route>
                    </Switch>
                </div>
            </div>
        </main>
    );
}

export default Profile;