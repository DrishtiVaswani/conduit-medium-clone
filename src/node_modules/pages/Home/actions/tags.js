import { FETCH_TAGS_FAILURE, FETCH_TAGS_REQUEST, FETCH_TAGS_SUCCESS } from 'pages/Home/actionTypes';
import Api from 'api';
import { defaultErrorMessage } from 'pages/Home/constants';

const tagsRequest = () => ({
    type: FETCH_TAGS_REQUEST,
});

const tagsSuccess = (tags) => ({
    type: FETCH_TAGS_SUCCESS,
    payload: tags,
});

const tagsFailure = (errorMessage = defaultErrorMessage) => ({
    type: FETCH_TAGS_FAILURE,
    payload: errorMessage,
    error: true,
});

export const fetchTags = () => (dispatch) => {

    dispatch(tagsRequest());

    Api.Tags.getAll()
        .then((result) => {
            dispatch(tagsSuccess(result.data.tags));
        })
        .catch((error) => {
            dispatch(tagsFailure(error.message));
        });
};