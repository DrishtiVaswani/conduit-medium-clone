import React, { useEffect } from 'react';
import { connect } from 'react-redux';
import PropTypes from 'prop-types';

import Home from './Home';
import { fetchTags } from './actions';
import { tagsSelector } from './selectors';

function HomeContainer({ fetchTags, tags }) {

    useEffect(() => {
        fetchTags();
    }, [fetchTags]);

    return (
        <Home tags={tags}/>
    );
}

HomeContainer.propTypes = {
    fetchTags: PropTypes.func.isRequired,
    tags: PropTypes.shape({
        isFetching: PropTypes.bool.isRequired,
        data: PropTypes.array.isRequired,
    }).isRequired,
};

const mapStateToProps = (state) => ({
    tags: tagsSelector(state),
});

const mapDispatchToProps = {
    fetchTags,
};

export default connect(mapStateToProps, mapDispatchToProps)(HomeContainer);