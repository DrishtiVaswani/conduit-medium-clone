import React from 'react';
import { Alert, Button, Pane, Spinner } from 'evergreen-ui';

import './tags.scss';

function Tags({ fetchTag, isFetching, data, errorMessage }) {

    const handleClick = (tag, event) => {
        event.preventDefault();
        console.log(tag);
        fetchTag(tag, 1);
    };

    return (
        <div className="tags">
            <div className="tags-heading">
                <h4 className="tags-title">Popular Tags</h4>
            </div>
            <div className="tags-list">
                {errorMessage && (
                    <Alert
                        appearance="card"
                        intent="danger"
                        title={errorMessage}
                        marginTop={25}
                    />
                )}
                {isFetching && (
                    <Pane display="flex" alignItems="center" justifyContent="center" height={100}>
                        <Spinner size={32}/>
                    </Pane>
                )}
                {data.map((tag) => (
                    <Button
                        key={tag}
                        marginRight={5}
                        marginBottom={5}
                        onClick={handleClick.bind(this, tag)}
                    >
                        {tag}
                    </Button>
                ))}
            </div>
        </div>
    );
}

export default Tags;